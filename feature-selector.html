<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feature Selector - Minion Chase</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #0f1724 0%, #07102a 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 40px;
      color: #ff6b4a;
      text-shadow: 0 0 20px #ff6b4a;
      margin-bottom: 10px;
    }

    .tab-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .tab-btn {
      padding: 12px 25px;
      background: rgba(0, 255, 255, 0.1);
      border: 2px solid #00ffff;
      color: #00ffff;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      font-size: 14px;
    }

    .tab-btn:hover {
      background: rgba(0, 255, 255, 0.2);
      transform: translateY(-3px);
    }

    .tab-btn.active {
      background: linear-gradient(135deg, #ff6b4a 0%, #ff8c5a 100%);
      border-color: #ff6b4a;
      color: #fff;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .feature-item {
      background: linear-gradient(135deg, rgba(20, 40, 80, 0.9) 0%, rgba(10, 20, 50, 0.9) 100%);
      border: 2px solid #00ffff;
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .feature-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
      border-color: #00ff88;
    }

    .feature-item.selected {
      background: linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(45, 160, 70, 0.3) 100%);
      border-color: #4CAF50;
      box-shadow: 0 0 20px rgba(76, 175, 80, 0.4);
    }

    .feature-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .feature-icon {
      font-size: 32px;
    }

    .feature-title {
      font-size: 18px;
      font-weight: bold;
      color: #00ffff;
    }

    .feature-description {
      color: #aabbcc;
      font-size: 13px;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .feature-checkbox {
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: #4CAF50;
    }

    .feature-details {
      background: rgba(0, 0, 0, 0.3);
      border-left: 3px solid #ffaa00;
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
      color: #ffd54a;
      margin-top: 12px;
    }

    .selected-features {
      background: rgba(76, 175, 80, 0.1);
      border: 2px solid #4CAF50;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .selected-features h3 {
      color: #00ff88;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .selected-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .selected-tag {
      background: rgba(76, 175, 80, 0.3);
      border: 1px solid #4CAF50;
      color: #00ff88;
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .selected-tag button {
      background: none;
      border: none;
      color: #00ff88;
      cursor: pointer;
      font-size: 16px;
      padding: 0;
      margin-left: 5px;
    }

    .stats-section {
      background: rgba(33, 150, 243, 0.1);
      border: 2px solid #2196F3;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .stat-box {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid #2196F3;
      border-radius: 8px;
      padding: 15px;
      text-align: center;
    }

    .stat-label {
      color: #aabbcc;
      font-size: 12px;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .stat-value {
      color: #00ffff;
      font-size: 24px;
      font-weight: bold;
    }

    .button-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 30px;
    }

    button {
      padding: 15px 30px;
      font-size: 16px;
      font-weight: bold;
      border: 2px solid;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    button:hover {
      transform: translateY(-3px);
    }

    button:active {
      transform: translateY(-1px);
    }

    .btn-save {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: #fff;
      border-color: #00ff88;
    }

    .btn-save:hover {
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.6);
    }

    .btn-clear {
      background: linear-gradient(135deg, #FF9800 0%, #e68900 100%);
      color: #fff;
      border-color: #ffaa00;
    }

    .btn-clear:hover {
      box-shadow: 0 6px 20px rgba(255, 152, 0, 0.6);
    }

    .btn-preset {
      background: linear-gradient(135deg, #2196F3 0%, #0b7dda 100%);
      color: #fff;
      border-color: #00ffff;
      padding: 10px 20px;
      font-size: 13px;
    }

    .btn-preset:hover {
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.6);
    }

    .preset-section {
      background: rgba(0, 255, 255, 0.05);
      border: 2px solid #00ffff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .preset-section h3 {
      color: #00ffff;
      margin-bottom: 15px;
    }

    .preset-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
    }

    .message {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
      display: none;
    }

    .message.success {
      background: rgba(76, 175, 80, 0.2);
      border: 2px solid #4CAF50;
      color: #00ff88;
      display: block;
    }

    .message.info {
      background: rgba(33, 150, 243, 0.2);
      border: 2px solid #2196F3;
      color: #00ffff;
      display: block;
    }

    .help-text {
      background: rgba(255, 152, 0, 0.1);
      border-left: 4px solid #FF9800;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
      color: #ffaa00;
      font-size: 14px;
    }

    @media (max-width: 768px) {
      .features-grid {
        grid-template-columns: 1fr;
      }

      .tab-buttons {
        flex-direction: column;
      }

      .header h1 {
        font-size: 32px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>ğŸ® FEATURE SELECTOR</h1>
      <p>Pilih fitur yang ingin ditambahkan ke game Anda</p>
    </div>

    <!-- Help Text -->
    <div class="help-text">
      ğŸ’¡ <strong>Cara menggunakan:</strong> Klik fitur untuk memilih, lihat preview di bawah, tekan "SAVE & APPLY" untuk menyimpan. Fitur pilihan akan tersimpan di localStorage dan bisa digunakan di game.html
    </div>

    <!-- Tab Buttons -->
    <div class="tab-buttons">
      <button class="tab-btn active" onclick="switchTab('weapons')">ğŸ”« Weapons</button>
      <button class="tab-btn" onclick="switchTab('enemies')">ğŸ‘¾ Enemies</button>
      <button class="tab-btn" onclick="switchTab('effects')">âœ¨ Effects</button>
      <button class="tab-btn" onclick="switchTab('modes')">ğŸ® Game Modes</button>
    </div>

    <!-- Weapons Tab -->
    <div id="weapons" class="tab-content active">
      <div class="features-grid">
        <div class="feature-item" onclick="toggleFeature('scatter-gun', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ”¨</span>
            <span class="feature-title">Scatter Gun</span>
          </div>
          <div class="feature-description">
            Peluru menyebar ke 8 arah. Coverage luas, damage medium.
          </div>
          <div class="feature-details">
            âœ“ 8 peluru per tembakan<br>
            âœ“ Spread angle: 45Â°<br>
            âœ“ Fire rate: 0.3s
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('laser-beam', this)">
          <div class="feature-header">
            <span class="feature-icon">âš¡</span>
            <span class="feature-title">Laser Beam</span>
          </div>
          <div class="feature-description">
            Sinar laser kontinyu. Damage tinggi, ada cooldown.
          </div>
          <div class="feature-details">
            âœ“ Damage per frame: 0.5<br>
            âœ“ Heat up time: 0.5s<br>
            âœ“ Overheat: 3s cooldown
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('grenade-launcher', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ’£</span>
            <span class="feature-title">Grenade Launcher</span>
          </div>
          <div class="feature-description">
            Peluru yang meledak dengan area damage besar.
          </div>
          <div class="feature-details">
            âœ“ Damage radius: 100px<br>
            âœ“ Explosion delay: 1.5s<br>
            âœ“ Fire rate: 0.8s
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('homing-missile', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸš€</span>
            <span class="feature-title">Homing Missile</span>
          </div>
          <div class="feature-description">
            Peluru yang auto-lock ke target. Sangat akurat.
          </div>
          <div class="feature-details">
            âœ“ Auto tracking range: 300px<br>
            âœ“ Turn speed: 120Â°/s<br>
            âœ“ Damage: 2.5x
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('flame-thrower', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ”¥</span>
            <span class="feature-title">Flame Thrower</span>
          </div>
          <div class="feature-description">
            Semburan api dengan damage over time. Area control.
          </div>
          <div class="feature-details">
            âœ“ Spread width: 80px<br>
            âœ“ Burn duration: 2s<br>
            âœ“ DOT damage: 0.3/frame
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('shotgun', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ’¢</span>
            <span class="feature-title">Shotgun Mode</span>
          </div>
          <div class="feature-description">
            Tembak 6 peluru dalam spread cone. Damage tinggi jarak dekat.
          </div>
          <div class="feature-details">
            âœ“ Pellets: 6 per shot<br>
            âœ“ Spread cone: 30Â°<br>
            âœ“ Fire rate: 0.5s
          </div>
        </div>
      </div>
    </div>

    <!-- Enemies Tab -->
    <div id="enemies" class="tab-content">
      <div class="features-grid">
        <div class="feature-item" onclick="toggleFeature('flying-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ¦…</span>
            <span class="feature-title">Flying Enemy</span>
          </div>
          <div class="feature-description">
            Enemy terbang naik turun. Sulit ditembak.
          </div>
          <div class="feature-details">
            âœ“ Movement: Sine wave<br>
            âœ“ Height range: 100-300px<br>
            âœ“ Speed: 0.3x slower
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('shield-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ›¡ï¸</span>
            <span class="feature-title">Shield Enemy</span>
          </div>
          <div class="feature-description">
            Enemy dengan shield. Harus hancurkan dulu.
          </div>
          <div class="feature-details">
            âœ“ Shield health: 10<br>
            âœ“ Body health: 5<br>
            âœ“ Shield regen: 2s
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('fast-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">âš¡</span>
            <span class="feature-title">Fast Enemy</span>
          </div>
          <div class="feature-description">
            Enemy yang bergerak cepat & sulit ditangkap.
          </div>
          <div class="feature-details">
            âœ“ Speed: 2x lebih cepat<br>
            âœ“ Health: 2 (fragile)<br>
            âœ“ Dodge pattern: Zig-zag
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('armored-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ¤–</span>
            <span class="feature-title">Armored Enemy</span>
          </div>
          <div class="feature-description">
            Enemy dengan armor tebal. Butuh damage tinggi.
          </div>
          <div class="feature-details">
            âœ“ Armor rating: 0.5<br>
            âœ“ Health: 20<br>
            âœ“ Worth: 2x coins
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('explosive-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ’¥</span>
            <span class="feature-title">Explosive Enemy</span>
          </div>
          <div class="feature-description">
            Enemy yang meledak saat mati. Area damage.
          </div>
          <div class="feature-details">
            âœ“ Explosion radius: 150px<br>
            âœ“ Explosion damage: 5<br>
            âœ“ Worth: 3x coins
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('spawner-enemy', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸŒ€</span>
            <span class="feature-title">Spawner Enemy</span>
          </div>
          <div class="feature-description">
            Enemy yang mengeluarkan minion. Bunuh cepat!
          </div>
          <div class="feature-details">
            âœ“ Spawn rate: 1 minion/2s<br>
            âœ“ Max minions: 3<br>
            âœ“ Health: 15
          </div>
        </div>
      </div>
    </div>

    <!-- Effects Tab -->
    <div id="effects" class="tab-content">
      <div class="features-grid">
        <div class="feature-item" onclick="toggleFeature('screen-shake', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ“º</span>
            <span class="feature-title">Screen Shake</span>
          </div>
          <div class="feature-description">
            Kamera bergoyang saat explosion atau impact.
          </div>
          <div class="feature-details">
            âœ“ Intensity: 1-10<br>
            âœ“ Duration: 0.2-0.5s<br>
            âœ“ Max offset: 10px
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('combo-system', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ”—</span>
            <span class="feature-title">Combo System</span>
          </div>
          <div class="feature-description">
            Kill counter dengan score multiplier. Semakin banyak semakin untung!
          </div>
          <div class="feature-details">
            âœ“ Combo timer: 3s reset<br>
            âœ“ Max multiplier: 10x<br>
            âœ“ Floating text
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('gore-effects', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ©¸</span>
            <span class="feature-title">Gore & Gibs</span>
          </div>
          <div class="feature-description">
            Partikel darah saat enemy mati. Visual intense.
          </div>
          <div class="feature-details">
            âœ“ Particle count: 20-40<br>
            âœ“ Physics: Gravity<br>
            âœ“ Lifetime: 1-2s
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('bullet-time', this)">
          <div class="feature-header">
            <span class="feature-icon">â±ï¸</span>
            <span class="feature-title">Bullet Time</span>
          </div>
          <div class="feature-description">
            Slow motion saat achievement special. Dramatic!
          </div>
          <div class="feature-details">
            âœ“ Time scale: 0.5x<br>
            âœ“ Duration: 1-2s<br>
            âœ“ Trigger: Multi-kill
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('dynamic-camera', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ“·</span>
            <span class="feature-title">Dynamic Camera</span>
          </div>
          <div class="feature-description">
            Kamera zoom in/out sesuai intensity gameplay.
          </div>
          <div class="feature-details">
            âœ“ Zoom range: 0.8x - 1.2x<br>
            âœ“ Smooth transition<br>
            âœ“ Follow player
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('particle-system', this)">
          <div class="feature-header">
            <span class="feature-icon">âœ¨</span>
            <span class="feature-title">Enhanced Particles</span>
          </div>
          <div class="feature-description">
            Particle effects lebih banyak dan indah.
          </div>
          <div class="feature-details">
            âœ“ Spawn rate: 2x<br>
            âœ“ More colors<br>
            âœ“ Physics improvement
          </div>
        </div>
      </div>
    </div>

    <!-- Game Modes Tab -->
    <div id="modes" class="tab-content">
      <div class="features-grid">
        <div class="feature-item" onclick="toggleFeature('survival-mode', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸšï¸</span>
            <span class="feature-title">Survival Mode</span>
          </div>
          <div class="feature-description">
            Mode tanpa batas. Semakin lama semakin sulit.
          </div>
          <div class="feature-details">
            âœ“ Wave: Infinite<br>
            âœ“ Difficulty: +5% per wave<br>
            âœ“ Leaderboard: Top 10
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('arcade-mode', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ‘¾</span>
            <span class="feature-title">Arcade Mode</span>
          </div>
          <div class="feature-description">
            Mode timed dengan bonus per kill.
          </div>
          <div class="feature-details">
            âœ“ Time limit: 3-5 menit<br>
            âœ“ Bonus per kill: +100<br>
            âœ“ Score multiplier
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('boss-rush', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ‘‘</span>
            <span class="feature-title">Boss Rush Mode</span>
          </div>
          <div class="feature-description">
            Melawan banyak boss berturut-turut.
          </div>
          <div class="feature-details">
            âœ“ Boss count: 5-10<br>
            âœ“ Difficulty: Progressive<br>
            âœ“ Massive rewards
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('achievements', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ†</span>
            <span class="feature-title">Achievements</span>
          </div>
          <div class="feature-description">
            Target achievement dengan badges & rewards.
          </div>
          <div class="feature-details">
            âœ“ Total: 25+<br>
            âœ“ Rewards: Coins<br>
            âœ“ Display: UI notification
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('difficulty-levels', this)">
          <div class="feature-header">
            <span class="feature-icon">âš™ï¸</span>
            <span class="feature-title">Difficulty Levels</span>
          </div>
          <div class="feature-description">
            Easy, Normal, Hard, Insane modes.
          </div>
          <div class="feature-details">
            âœ“ Easy: 1.5x HP<br>
            âœ“ Hard: 0.5x HP<br>
            âœ“ Score multiplier
          </div>
        </div>

        <div class="feature-item" onclick="toggleFeature('leaderboard', this)">
          <div class="feature-header">
            <span class="feature-icon">ğŸ“Š</span>
            <span class="feature-title">Leaderboard</span>
          </div>
          <div class="feature-description">
            Track & compare scores dengan leaderboard.
          </div>
          <div class="feature-details">
            âœ“ Local storage: Top 100<br>
            âœ“ Categories: Score, kills<br>
            âœ“ Share feature
          </div>
        </div>
      </div>
    </div>

    <!-- Preset Section -->
    <div class="preset-section">
      <h3>âš¡ Quick Presets</h3>
      <p style="color: #aabbcc; margin-bottom: 15px; font-size: 13px;">Langsung load preset yang sudah dikurasi:</p>
      <div class="preset-buttons">
        <button class="btn-preset" onclick="loadPreset('balanced')">âš–ï¸ Balanced</button>
        <button class="btn-preset" onclick="loadPreset('weapons')">ğŸ”« Weapons Focus</button>
        <button class="btn-preset" onclick="loadPreset('difficulty')">âš™ï¸ Difficulty Focus</button>
        <button class="btn-preset" onclick="loadPreset('effects')">âœ¨ Effects Focus</button>
        <button class="btn-preset" onclick="loadPreset('everything')">ğŸ¤¯ Everything!</button>
        <button class="btn-preset" onclick="loadPreset('minimal')">ğŸ® Minimal</button>
      </div>
    </div>

    <!-- Selected Features Preview -->
    <div class="selected-features">
      <h3>âœ… Fitur Terpilih (<span id="count">0</span>/25)</h3>
      <div class="selected-list" id="selectedList">
        <p style="color: #aabbcc;">Belum ada fitur terpilih. Klik fitur di atas untuk memilih.</p>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="stats-section">
      <h3>ğŸ“Š Estimated Changes</h3>
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-label">New Weapons</div>
          <div class="stat-value" id="weaponCount">0</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">New Enemies</div>
          <div class="stat-value" id="enemyCount">0</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">New Effects</div>
          <div class="stat-value" id="effectCount">0</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">Game Modes</div>
          <div class="stat-value" id="modeCount">0</div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="button-group">
      <button class="btn-save" onclick="saveFeatures()">ğŸ’¾ SAVE & APPLY</button>
      <button class="btn-clear" onclick="clearFeatures()">ğŸ—‘ï¸ CLEAR ALL</button>
    </div>

    <!-- Message -->
    <div id="message" class="message"></div>
  </div>

  <script>
    // Feature Database
    const FEATURES = {
      weapons: [
        'scatter-gun',
        'laser-beam',
        'grenade-launcher',
        'homing-missile',
        'flame-thrower',
        'shotgun'
      ],
      enemies: [
        'flying-enemy',
        'shield-enemy',
        'fast-enemy',
        'armored-enemy',
        'explosive-enemy',
        'spawner-enemy'
      ],
      effects: [
        'screen-shake',
        'combo-system',
        'gore-effects',
        'bullet-time',
        'dynamic-camera',
        'particle-system'
      ],
      modes: [
        'survival-mode',
        'arcade-mode',
        'boss-rush',
        'achievements',
        'difficulty-levels',
        'leaderboard'
      ]
    };

    // Presets
    const PRESETS = {
      balanced: [
        'scatter-gun', 'laser-beam', 'grenade-launcher',
        'flying-enemy', 'shield-enemy', 'fast-enemy',
        'screen-shake', 'combo-system', 'gore-effects',
        'survival-mode', 'achievements', 'difficulty-levels'
      ],
      weapons: [
        'scatter-gun', 'laser-beam', 'grenade-launcher', 'homing-missile', 'flame-thrower', 'shotgun'
      ],
      difficulty: [
        'fast-enemy', 'armored-enemy', 'explosive-enemy',
        'difficulty-levels', 'boss-rush', 'arcade-mode'
      ],
      effects: [
        'screen-shake', 'combo-system', 'gore-effects', 'bullet-time', 'dynamic-camera', 'particle-system'
      ],
      everything: Object.values(FEATURES).flat(),
      minimal: [
        'scatter-gun', 'flying-enemy', 'screen-shake', 'combo-system'
      ]
    };

    let selectedFeatures = new Set();

    // Load from localStorage on startup
    window.addEventListener('DOMContentLoaded', () => {
      loadSavedFeatures();
      updateDisplay();
    });

    function switchTab(tabName) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // Show selected tab
      document.getElementById(tabName).classList.add('active');
      event.target.classList.add('active');
    }

    function toggleFeature(featureName, element) {
      if (selectedFeatures.has(featureName)) {
        selectedFeatures.delete(featureName);
        element.classList.remove('selected');
      } else {
        selectedFeatures.add(featureName);
        element.classList.add('selected');
      }
      updateDisplay();
    }

    function updateDisplay() {
      // Update count
      document.getElementById('count').textContent = selectedFeatures.size;

      // Update selected list
      const selectedList = document.getElementById('selectedList');
      if (selectedFeatures.size === 0) {
        selectedList.innerHTML = '<p style="color: #aabbcc;">Belum ada fitur terpilih. Klik fitur di atas untuk memilih.</p>';
      } else {
        selectedList.innerHTML = Array.from(selectedFeatures)
          .map(feat => {
            const emoji = getEmojiForFeature(feat);
            return `
              <div class="selected-tag">
                ${emoji} ${getFeatureName(feat)}
                <button onclick="deselectFeature('${feat}')">âœ•</button>
              </div>
            `;
          })
          .join('');
      }

      // Update stats
      updateStats();

      // Highlight selected features
      document.querySelectorAll('.feature-item').forEach(item => {
        const featureName = Array.from(selectedFeatures).find(f => 
          item.textContent.includes(getFeatureName(f))
        );
        if (featureName) {
          item.classList.add('selected');
        } else {
          item.classList.remove('selected');
        }
      });
    }

    function deselectFeature(featureName) {
      selectedFeatures.delete(featureName);
      updateDisplay();
    }

    function updateStats() {
      let weapons = 0, enemies = 0, effects = 0, modes = 0;

      selectedFeatures.forEach(feature => {
        if (FEATURES.weapons.includes(feature)) weapons++;
        if (FEATURES.enemies.includes(feature)) enemies++;
        if (FEATURES.effects.includes(feature)) effects++;
        if (FEATURES.modes.includes(feature)) modes++;
      });

      document.getElementById('weaponCount').textContent = weapons;
      document.getElementById('enemyCount').textContent = enemies;
      document.getElementById('effectCount').textContent = effects;
      document.getElementById('modeCount').textContent = modes;
    }

    function loadPreset(presetName) {
      selectedFeatures.clear();
      if (PRESETS[presetName]) {
        PRESETS[presetName].forEach(feature => {
          selectedFeatures.add(feature);
        });
      }
      updateDisplay();
      showMessage(`âœ… Preset "${presetName.toUpperCase()}" dimuat!`, 'success');
    }

    function saveFeatures() {
      const featuresArray = Array.from(selectedFeatures);
      localStorage.setItem('minion_chase_selected_features', JSON.stringify(featuresArray));
      showMessage('âœ… Fitur berhasil disimpan! Buka game.html untuk melihat perubahan.', 'success');
      console.log('Saved features:', featuresArray);
    }

    function loadSavedFeatures() {
      const saved = localStorage.getItem('minion_chase_selected_features');
      if (saved) {
        try {
          const features = JSON.parse(saved);
          selectedFeatures = new Set(features);
        } catch (e) {
          console.log('Error loading saved features');
        }
      }
    }

    function clearFeatures() {
      if (confirm('ğŸ—‘ï¸ Hapus semua fitur terpilih?')) {
        selectedFeatures.clear();
        localStorage.removeItem('minion_chase_selected_features');
        updateDisplay();
        showMessage('ğŸ—‘ï¸ Semua fitur terhapus!', 'success');
      }
    }

    function getFeatureName(featureName) {
      const names = {
        'scatter-gun': 'Scatter Gun',
        'laser-beam': 'Laser Beam',
        'grenade-launcher': 'Grenade Launcher',
        'homing-missile': 'Homing Missile',
        'flame-thrower': 'Flame Thrower',
        'shotgun': 'Shotgun',
        'flying-enemy': 'Flying Enemy',
        'shield-enemy': 'Shield Enemy',
        'fast-enemy': 'Fast Enemy',
        'armored-enemy': 'Armored Enemy',
        'explosive-enemy': 'Explosive Enemy',
        'spawner-enemy': 'Spawner Enemy',
        'screen-shake': 'Screen Shake',
        'combo-system': 'Combo System',
        'gore-effects': 'Gore Effects',
        'bullet-time': 'Bullet Time',
        'dynamic-camera': 'Dynamic Camera',
        'particle-system': 'Enhanced Particles',
        'survival-mode': 'Survival Mode',
        'arcade-mode': 'Arcade Mode',
        'boss-rush': 'Boss Rush',
        'achievements': 'Achievements',
        'difficulty-levels': 'Difficulty Levels',
        'leaderboard': 'Leaderboard'
      };
      return names[featureName] || featureName;
    }

    function getEmojiForFeature(featureName) {
      const emojis = {
        'scatter-gun': 'ğŸ”¨', 'laser-beam': 'âš¡', 'grenade-launcher': 'ğŸ’£', 'homing-missile': 'ğŸš€',
        'flame-thrower': 'ğŸ”¥', 'shotgun': 'ğŸ’¢', 'flying-enemy': 'ğŸ¦…', 'shield-enemy': 'ğŸ›¡ï¸',
        'fast-enemy': 'âš¡', 'armored-enemy': 'ğŸ¤–', 'explosive-enemy': 'ğŸ’¥', 'spawner-enemy': 'ğŸŒ€',
        'screen-shake': 'ğŸ“º', 'combo-system': 'ğŸ”—', 'gore-effects': 'ğŸ©¸', 'bullet-time': 'â±ï¸',
        'dynamic-camera': 'ğŸ“·', 'particle-system': 'âœ¨', 'survival-mode': 'ğŸšï¸', 'arcade-mode': 'ğŸ‘¾',
        'boss-rush': 'ğŸ‘‘', 'achievements': 'ğŸ†', 'difficulty-levels': 'âš™ï¸', 'leaderboard': 'ğŸ“Š'
      };
      return emojis[featureName] || 'â­';
    }

    function showMessage(text, type = 'info') {
      const msg = document.getElementById('message');
      msg.textContent = text;
      msg.className = `message ${type}`;
      setTimeout(() => {
        msg.classList.remove(type);
      }, 4000);
    }
  </script>
</body>
</html>